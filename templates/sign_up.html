<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teacher Register - Vita Occupancy System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(180deg, #fdf2ec, #fbe9e7, #fdf2ec);
            min-height: 100vh;
        }
        .fade-in { animation: fadeIn 1s ease forwards; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
        }
        .btn-animate { transition: all 0.3s ease; }
        .btn-animate:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);
        }
        .form-input {
            background: rgba(255, 255, 255, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.8);
            color: #333;
        }
        .form-input::placeholder { color: #777; }

        .class-entry-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            padding: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: 0.5rem;
            position: relative;
            background: rgba(255, 255, 255, 0.3);
        }
        @media (min-width: 768px) {
            .class-entry-row {
                grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 50px;
                align-items: flex-end;
            }
        }
        .remove-class-btn {
            background-color: #dc2626; /* red-600 */
            color: white;
            border-radius: 9999px;
            width: 30px;
            height: 30px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            cursor: pointer;
            position: absolute;
            top: -10px;
            right: -10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }
        @media (min-width: 768px) {
            .remove-class-btn {
                position: static;
                margin-bottom: 0.75rem;
            }
        }
    </style>
</head>
<body class="p-4 md:p-10 text-gray-800 fade-in">
    <div class="app-container max-w-6xl mx-auto">
        <div class="flex flex-col items-center justify-center min-h-[90vh]">
            <form action="{{ url_for('teacher_signup') }}" method="POST" class="glass-card rounded-2xl p-8 md:p-12 w-full border-t-8 border-[#A82D49]">
                <h1 class="text-4xl font-extrabold text-[#8A1C33] text-center mb-6 tracking-wider">REGISTER TEACHER</h1>
                
                <div class="space-y-4">
                    <p class="text-lg font-semibold text-gray-700">Account Details</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-600 mb-2">Username</label>
                            <input type="text" name="username" class="w-full px-4 py-3 form-input rounded-lg" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-600 mb-2">Password</label>
                            <input type="password" name="password" class="w-full px-4 py-3 form-input rounded-lg" required>
                        </div>
                    </div>
                    
                    <hr class="border-gray-400 my-6">
                    <div class="flex justify-between items-center mb-4">
                        <p class="text-lg font-semibold text-gray-700">Class Details</p>
                        <button type="button" id="add-class-btn" class="py-2 px-4 bg-[#A82D49] hover:bg-[#8A1C33] text-white text-sm font-bold rounded-lg btn-animate">
                            + Add Another Class
                        </button>
                    </div>

                    <div id="class-fields-container" class="space-y-4">
                        <div class="class-entry-row">
                            <div>
                                <label class="block text-sm font-medium text-gray-600 mb-2">Branch</label>
                                <input type="text" name="branch[]" placeholder="e.g., CSE" class="w-full px-4 py-3 form-input rounded-lg" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-600 mb-2">Section</label>
                                <input type="text" name="section[]" placeholder="e.g., A" class="w-full px-4 py-3 form-input rounded-lg" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-600 mb-2">Semester</label>
                                <input type="text" name="sem[]" placeholder="e.g., 5" class="w-full px-4 py-3 form-input rounded-lg" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-600 mb-2">Strength</label>
                                <input type="number" name="strength[]" placeholder="e.g., 50" class="w-full px-4 py-3 form-input rounded-lg" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-600 mb-2">Subject Code</label>
                                <input type="text" name="subject_code[]" placeholder="e.g., CS501" class="w-full px-4 py-3 form-input rounded-lg" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-600 mb-2">Subject Title</label>
                                <input type="text" name="subject_title[]" placeholder="e.g., Data Structures" class="w-full px-4 py-3 form-input rounded-lg" required>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button type="submit" class="w-full mt-8 py-3 bg-[#A82D49] hover:bg-[#8A1C33] text-white font-extrabold rounded-lg shadow-lg btn-animate">
                    Create Account
                </button>
                
                <p class="text-center text-gray-600 text-sm mt-6">
                    Already have an account? 
                    <a href="{{ url_for('teacher_login') }}" class="font-medium text-[#A82D49] hover:text-[#8A1C33]">Log In</a>
                </p>
            </form>
        </div>
    </div>

    <script>
        document.getElementById('add-class-btn').onclick = function() {
            const container = document.getElementById('class-fields-container');
            const newRow = document.createElement('div');
            newRow.className = 'class-entry-row mt-4';
            newRow.innerHTML = `
                <div><label class="block text-sm font-medium text-gray-600 mb-2">Branch</label><input type="text" name="branch[]" placeholder="e.g., ECE" class="w-full px-4 py-3 form-input rounded-lg" required></div>
                <div><label class="block text-sm font-medium text-gray-600 mb-2">Section</label><input type="text" name="section[]" placeholder="e.g., B" class="w-full px-4 py-3 form-input rounded-lg" required></div>
                <div><label class="block text-sm font-medium text-gray-600 mb-2">Semester</label><input type="text" name="sem[]" placeholder="e.g., 3" class="w-full px-4 py-3 form-input rounded-lg" required></div>
                <div><label class="block text-sm font-medium text-gray-600 mb-2">Strength</label><input type="number" name="strength[]" placeholder="e.g., 60" class="w-full px-4 py-3 form-input rounded-lg" required></div>
                <div><label class="block text-sm font-medium text-gray-600 mb-2">Subject Code</label><input type="text" name="subject_code[]" placeholder="e.g., EC302" class="w-full px-4 py-3 form-input rounded-lg" required></div>
                <div><label class="block text-sm font-medium text-gray-600 mb-2">Subject Title</label><input type="text" name="subject_title[]" placeholder="e.g., Signals" class="w-full px-4 py-3 form-input rounded-lg" required></div>
                <button type="button" class="remove-class-btn" title="Remove Class">X</button>
            `;
            container.appendChild(newRow);
        };

        document.getElementById('class-fields-container').addEventListener('click', function(e) {
            if (e.target.classList.contains('remove-class-btn')) {
                e.target.closest('.class-entry-row').remove();
            }
        });
    </script>
</body>
</html>